(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{1944:function(e,t,n){Promise.resolve().then(n.bind(n,3451))},3451:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(7437),r=n(2454),l=n.n(r),o=n(819),c=n(2265),i=n(4977),a=n(9594),d=e=>{let t=(0,c.useContext)(o.hy),n=(0,c.useContext)(o.Tk),r=window.location.pathname,l=0;t.forEach(e=>{l+=e.price*e.count});let[d,u]=(0,a.T)(l,".");return t.length>0&&"/checkout"!=r&&(0,s.jsxs)("div",{...e,className:e.className+" rounded min-w-[400px] bg-base-100 py-2",children:[(0,s.jsx)("ul",{className:"flex flex-col divide-y divide-neutral-content",children:t.map(e=>{let r=Math.ceil(e.price*e.count*100)/100,[l,o]=(0,a.T)(r,".");return(0,s.jsx)("li",{className:"px-4 py-2 hover:bg-base-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center transition-colors duration-200",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,s.jsx)("div",{className:"h-12 overflow-clip flex-shrink-0",children:(0,s.jsx)("img",{src:e.thumbnailUrl,className:"self-center w-20 h-full object-cover p-1 mr-1"})}),(0,s.jsx)("span",{className:"line-clamp-2 self-center",children:e.title})]}),(0,s.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[(0,s.jsxs)("div",{className:"grid columns-1 flex-shrink-0 px-2 mr-2 text-center",children:[(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:[(0,s.jsx)("span",{className:"text-xs",children:"x"}),e.count]}),(0,s.jsx)("span",{className:"text-accent",children:(0,s.jsxs)("span",{className:" font-semibold self-center text-md",children:[l,""!=o&&",",(0,s.jsx)("span",{className:"align-super text-[12px]",children:o})," ","Lei"]})})]}),(0,s.jsx)("button",{className:"border  border-error/30 text-error rounded-full justify-around h-6 w-6 flex items-center",onClick:s=>{i.Wf(t.filter(t=>t.id!=e.id)).then(e=>n&&n(e))},children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})},e.id)})}),(0,s.jsxs)("div",{className:"flex flex-row justify-around text-accent-content w-full border-t border-neutral-content",children:[(0,s.jsx)("span",{className:"self-center",children:"Total:"}),(0,s.jsxs)("span",{className:"self-center",children:[d,""!=u?",":"",(0,s.jsx)("span",{className:"text-lg self-center align-super mr-3",children:u}),"Lei"]})]})]})};function u(e){return e.startsWith("/")||(e="/"+e),"/web-dev-practice/store_front_react"+e}let h=" border-transparent cursor-pointer border-b-2 hover:border-accent hover:border-solid hover:border-b-2 hover:text-accent ";function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"inline-block w-6 h-6 "+(e?"show-in-light":""),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})}function x(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"inline-block w-6 h-6 "+(e?"show-in-dark":""),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}var f=e=>{let{theme:t,setTheme:n}=e,r=(0,c.useContext)(o.hy);return(0,s.jsx)("div",{className:"bg-base-300 shadow-md shadow-base-content/10 sticky top-0 z-50",children:(0,s.jsxs)("nav",{className:"flex justify-between container mx-auto sm:px-8 px-1",children:[(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("a",{href:u("/"),className:"pt-2 px-4 pb-2 my-2 font-semibold"+h,children:"Home"})}),(0,s.jsxs)("div",{className:"flex my-2",children:[(0,s.jsxs)("div",{className:" self-center justify-center mr-4 dropdown dropdown-bottom text-base-content font-semibold",children:[(0,s.jsxs)("span",{tabIndex:0,className:h+"hover:border-b-0",children:[m(!0),x(!0)]}),(0,s.jsxs)("ul",{tabIndex:0,className:"dropdown-content right-[-20px] z-[1] p-2 space-y-1 bg-base-100 shadow border border-base-300 rounded-xl",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"flex flex-row py-2 px-4 btn-accent w-full rounded-lg",onClick:e=>n("light"),children:[m(),"\xa0",(0,s.jsx)("span",{className:"inline-block",children:"Light"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"flex flex-row py-2 px-4 btn-accent w-full rounded-lg",onClick:e=>n("dark"),children:[x(),"\xa0Dark"]})}),(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"flex flex-row py-2 px-4 btn-accent w-full rounded-lg",onClick:e=>n("system"),children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"inline-block w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),"\xa0System"]})})]})]}),(0,s.jsxs)("div",{className:"flex self-center dropdown dropdown-hover dropdown-end dropdown-bottom",children:[(0,s.jsxs)("a",{href:u("/checkout"),className:"flex w-16 h-full content-center px-4"+h,children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),r.length>0&&(0,s.jsx)("span",{className:"absolute select-none text-xs px-1 self-center translate-x-4 -translate-y-3 rounded-md border-solid shadow shadow-red-900 bg-gradient-to-b from-orange-300 to-red-600 text-white",children:r.length})]}),(0,s.jsx)(d,{className:"dropdown-content z-[1]"})]})]})]})})};function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function j(){return(0,s.jsx)("script",{dangerouslySetInnerHTML:{__html:'\n          let clientPref = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";\n          let userPref; \n          try{\n            userPref = localStorage.getItem("site_theme_name");\n          }\n          catch(e){}\n\n          let theme = (userPref == null  || userPref == "system")  ? clientPref : userPref;\n          if (theme != null){\n            document.documentElement.removeAttribute("data-theme");\n            document.documentElement.setAttribute("data-theme", theme);\n          }\n        '}})}function w(e){let t,{children:n}=e,r=null!=(t=localStorage.getItem("site_theme_name"))?t:p(),[i,a]=(0,c.useState)(r);return(0,c.useEffect)(()=>{"system"==i&&localStorage.removeItem("site_theme_name"),localStorage.setItem("site_theme_name",i)},[i]),(0,c.useEffect)(()=>{document.title="Store Front in React"},[]),(0,s.jsx)("html",{lang:"en","data-theme":function(e){switch(e){case"dark":return"dark";case"light":return"light";case"system":return p()}}(i),style:{minHeight:"100%"},className:"bg-base-300",children:(0,s.jsxs)("body",{className:l().className+"text-base-content font-semibold",style:{minHeight:"100%"},children:[(0,s.jsx)(j,{}),(0,s.jsxs)(o.ZP,{children:[(0,s.jsx)(f,{theme:i,setTheme:a}),(0,s.jsx)("div",{className:"container mx-auto mt-5 sm:px-12 px-5",children:n})]})]})})}n(2445)},819:function(e,t,n){"use strict";n.d(t,{Tk:function(){return c},hy:function(){return o}});var s=n(7437),r=n(4977),l=n(2265);let o=(0,l.createContext)([]),c=(0,l.createContext)(null);t.ZP=e=>{let{children:t}=e,[n,i]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(0,r.fk)().then(e=>i(e))},[]),(0,s.jsx)(o.Provider,{value:n,children:(0,s.jsx)(c.Provider,{value:i,children:t})})}},4977:function(e,t,n){"use strict";n.d(t,{fk:function(){return i},Xp:function(){return o},OA:function(){return c},Wf:function(){return a}});var s=n(2077),r=n(7010);class l{constructor(e,t){this.productId=0,this.count=0,this.productId=e,this.count=t}}function o(e){return fetch("https://dummyjson.com/products/category/smartphones?limit=".concat(e.take,"&skip=").concat(e.skip,"&select=title,price,thumbnail")).then(e=>e.ok?e.json():Promise.reject(e)).then(t=>t.products.slice(e.skip,e.skip+e.take).map(e=>new s.Z(e.id,e.title,e.price,e.thumbnail)))}function c(e){return Promise.all(e.map(e=>fetch("https://dummyjson.com/products/".concat(e,"?select=title,price,thumbnail")))).then(e=>(e.forEach(e=>{if(!e.ok)return Promise.reject(e)}),Promise.all(e.map(e=>e.json())))).then(t=>t.filter(t=>e.some(e=>e==t.id)).map(e=>new s.Z(e.id,e.title,e.price,e.thumbnail)))}function i(){if(null==window)return Promise.resolve([]);let e=localStorage.getItem("user_basket");if(null==e)return Promise.resolve([]);let t=JSON.parse(e);return c(t.map(e=>e.productId)).then(e=>Promise.resolve(e.map(e=>{let n=t.find(t=>t.productId==e.id);return new r.Z(e.id,e.title,e.price,e.thumbnailUrl,null==n?void 0:n.count)})))}function a(e){return localStorage.setItem("user_basket",JSON.stringify(e.map(e=>new l(e.id,e.count)))),i()}},7010:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var s=n(2077);class r extends s.Z{constructor(e,t,n,s="",r=1){super(e,t,n,s),this.count=1,this.count=r}}},2077:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});class s{constructor(e,t,n,s=""){this.id=-1,this.title="",this.price=Number.MAX_SAFE_INTEGER,this.thumbnailUrl="",this.id=e,this.title=t,this.price=n,this.thumbnailUrl=s}}},9594:function(e,t,n){"use strict";function s(e,t){let n=Math.trunc(e),s=Math.round(e%1*100);{let e=n.toString().split("");for(let n=e.length-3;n>0;n-=3)e.splice(n,0,t);n=e.join("")}return[n,s=0===s?"":s.toString().padStart(2,"0")]}n.d(t,{T:function(){return s}})},2445:function(){},2454:function(e){e.exports={style:{fontFamily:"'__Inter_8d3f8a', '__Inter_Fallback_8d3f8a'",fontStyle:"normal"},className:"__className_8d3f8a"}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=1944)}),_N_E=e.O()}]);