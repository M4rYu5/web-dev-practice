(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{3031:function(e,t,n){Promise.resolve().then(n.bind(n,5261))},5261:function(e,t,n){"use strict";n.r(t);var r=n(7437),s=n(2265),i=n(819),l=n(4977),c=n(9594);function o(e,t,n,r){let s=e.filter(e=>e.id==n);if(null==s)return;let i=s[0];if(i.count+r<1)return;i.count=i.count+r;let c=[...e];l.Wf(c),t&&t(c)}t.default=()=>{let e=(0,s.useContext)(i.hy),t=(0,s.useContext)(i.Tk),n=0;e.forEach(e=>{n+=e.price*e.count});let[u,a]=(0,c.T)(n,".");return(0,s.useEffect)(()=>{document.title="Checkout"},[]),(0,r.jsxs)("div",{className:"min-w-[400px] py-2 lg:px-10",children:[(0,r.jsx)("ul",{className:"flex flex-col divide-y divide-neutral-content bg-base-100 rounded-xl overflow-clip shadow-md",children:e.map(n=>{let s=Math.ceil(n.price*n.count*100)/100,[i,u]=(0,c.T)(s,".");return(0,r.jsx)("li",{className:"px-4 py-2 hover:bg-base-200",children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-accent-content transition-colors duration-200",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-center",children:[(0,r.jsx)("div",{className:"inline-block h-20 lg:h-32 w-32 lg:w-48 overflow-clip flex-shrink-0 mr-2",children:(0,r.jsx)("img",{src:n.thumbnailUrl,className:"self-center w-full h-full object-cover p-1"})}),(0,r.jsx)("span",{className:"line-clamp-2 self-center lg:text-2xl",children:n.title})]}),(0,r.jsxs)("div",{className:"flex items-center flex-shrink-0",children:[(0,r.jsxs)("div",{className:"grid columns-1 flex-shrink-0 px-2 mr-2 lg:text-xl lg:mr-6 text-center",children:[(0,r.jsxs)("div",{className:"flex flex-row space-x-1 m-auto",children:[(0,r.jsx)("button",{className:"rounded-full m-auto p-[2px] cursor-pointer hover:text-secondary",onClick:r=>o(e,t,n.id,-1),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,r.jsxs)("span",{className:"text-gray-400",children:["x",n.count]}),(0,r.jsx)("button",{className:"rounded-full m-auto p-[2px] cursor-pointer hover:text-secondary",onClick:r=>o(e,t,n.id,1),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]}),(0,r.jsxs)("span",{className:"text-accent",children:[i,""!=u&&",",(0,r.jsx)("span",{className:"align-super text-[12px]",children:u})," ","Lei"]})]}),(0,r.jsx)("button",{className:"border border-error/30 text-error rounded-full justify-around h-6 w-6 lg:h-12 lg:w-12 flex items-center",onClick:r=>{l.Wf(e.filter(e=>e.id!=n.id)).then(e=>t&&t(e))},children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})},n.id)})}),(0,r.jsxs)("div",{className:"flex justify-between bg-base-100 text-accent-content mt-5 px-5 py-2 rounded-xl text-2xl xl:py-4 xl:px-12 xl:text-3xl  shadow-md",children:[(0,r.jsx)("span",{className:"self-center",children:"Total:"}),(0,r.jsxs)("span",{className:"self-center",children:[u,""!=a?",":"",(0,r.jsx)("span",{className:"text-lg self-center align-super mr-3",children:a}),"Lei"]})]})]})}},819:function(e,t,n){"use strict";n.d(t,{Tk:function(){return c},hy:function(){return l}});var r=n(7437),s=n(4977),i=n(2265);let l=(0,i.createContext)([]),c=(0,i.createContext)(null);t.ZP=e=>{let{children:t}=e,[n,o]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(0,s.fk)().then(e=>o(e))},[]),(0,r.jsx)(l.Provider,{value:n,children:(0,r.jsx)(c.Provider,{value:o,children:t})})}},4977:function(e,t,n){"use strict";n.d(t,{fk:function(){return o},Xp:function(){return l},OA:function(){return c},Wf:function(){return u}});var r=n(2077),s=n(7010);class i{constructor(e,t){this.productId=0,this.count=0,this.productId=e,this.count=t}}function l(e){return fetch("https://dummyjson.com/products/category/smartphones?limit=".concat(e.take,"&skip=").concat(e.skip,"&select=title,price,thumbnail")).then(e=>e.ok?e.json():Promise.reject(e)).then(t=>t.products.slice(e.skip,e.skip+e.take).map(e=>new r.Z(e.id,e.title,e.price,e.thumbnail)))}function c(e){return Promise.all(e.map(e=>fetch("https://dummyjson.com/products/".concat(e,"?select=title,price,thumbnail")))).then(e=>(e.forEach(e=>{if(!e.ok)return Promise.reject(e)}),Promise.all(e.map(e=>e.json())))).then(t=>t.filter(t=>e.some(e=>e==t.id)).map(e=>new r.Z(e.id,e.title,e.price,e.thumbnail)))}function o(){if(null==window)return Promise.resolve([]);let e=localStorage.getItem("user_basket");if(null==e)return Promise.resolve([]);let t=JSON.parse(e);return c(t.map(e=>e.productId)).then(e=>Promise.resolve(e.map(e=>{let n=t.find(t=>t.productId==e.id);return new s.Z(e.id,e.title,e.price,e.thumbnailUrl,null==n?void 0:n.count)})))}function u(e){return localStorage.setItem("user_basket",JSON.stringify(e.map(e=>new i(e.id,e.count)))),o()}},7010:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2077);class s extends r.Z{constructor(e,t,n,r="",s=1){super(e,t,n,r),this.count=1,this.count=s}}},2077:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});class r{constructor(e,t,n,r=""){this.id=-1,this.title="",this.price=Number.MAX_SAFE_INTEGER,this.thumbnailUrl="",this.id=e,this.title=t,this.price=n,this.thumbnailUrl=r}}},9594:function(e,t,n){"use strict";function r(e,t){let n=Math.trunc(e),r=Math.round(e%1*100);{let e=n.toString().split("");for(let n=e.length-3;n>0;n-=3)e.splice(n,0,t);n=e.join("")}return[n,r=0===r?"":r.toString().padStart(2,"0")]}n.d(t,{T:function(){return r}})}},function(e){e.O(0,[971,69,744],function(){return e(e.s=3031)}),_N_E=e.O()}]);